<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù†Ù„ Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ² - Ù‚Ù‚Ù†ÙˆØ³ Ø§Ø¯Ø¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .student-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Ù‡Ø¯Ø± */
        .student-header {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .student-info h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2rem;
        }

        .student-info p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .primary-btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .success-btn {
            background: linear-gradient(45deg, #27ae60, #219a52);
            color: white;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .success-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }

        .warning-btn {
            background: linear-gradient(45deg, #e67e22, #d35400);
            color: white;
            box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
        }

        .warning-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(230, 126, 34, 0.4);
        }

        .logout-btn {
            background: linear-gradient(45deg, #34495e, #2c3e50);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 73, 94, 0.3);
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 73, 94, 0.4);
        }

        /* ØªØ¨â€ŒÙ‡Ø§ */
        .tabs-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .tabs {
            display: flex;
            background: linear-gradient(45deg, #3498db, #2980b9);
            padding: 0;
            flex-wrap: wrap;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            color: white;
            font-weight: bold;
            flex: 1;
            min-width: 120px;
            text-align: center;
        }

        .tab:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .tab.active {
            background: rgba(255, 255, 255, 0.2);
            border-bottom: 3px solid #fff;
        }

        .tab-content {
            display: none;
            padding: 30px;
            min-height: 500px;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Ù…Ø­ØªÙˆØ§ÛŒ ØªØ¨â€ŒÙ‡Ø§ */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
            border-color: #3498db;
        }

        .stat-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 10px;
        }

        /* Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .game-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            cursor: pointer;
        }

        .game-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            border-color: #3498db;
        }

        .game-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .game-title {
            color: #2c3e50;
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .game-desc {
            color: #7f8c8d;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        /* Ù…ÛŒÙ†ÛŒâ€ŒÚ¯ÛŒÙ…â€ŒÙ‡Ø§ */
        .mini-game {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .game-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .game-header h2 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .game-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .word-pair {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            cursor: grab;
            transition: all 0.3s ease;
        }

        .word-pair:hover {
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .word-pair.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            min-height: 60px;
            border: 2px dashed #3498db;
            border-radius: 10px;
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
            transition: all 0.3s ease;
        }

        .drop-zone.active {
            background: #e3f2fd;
            border-color: #2196f3;
        }

        .poem-container {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
        }

        .poem-text {
            font-size: 1.3rem;
            line-height: 2;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .poet-name {
            font-style: italic;
            opacity: 0.8;
        }

        /* Ø¬Ø¯ÙˆÙ„ Ù†ØªØ§ÛŒØ¬ */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .results-table th,
        .results-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid #ecf0f1;
        }

        .results-table th {
            background: #f8f9fa;
            color: #2c3e50;
            font-weight: 600;
        }

        .results-table tr:hover {
            background: #f8f9fa;
        }

        .grade-excellent { color: #27ae60; font-weight: bold; }
        .grade-good { color: #f39c12; font-weight: bold; }
        .grade-average { color: #e67e22; font-weight: bold; }
        .grade-poor { color: #e74c3c; font-weight: bold; }

        /* ÙÙˆØªØ± */
        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .developer-credit {
            color: #e74c3c;
            font-weight: bold;
            margin-top: 10px;
            font-size: 1rem;
        }

        /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .bounce {
            animation: bounce 2s infinite;
        }

        /* ÙˆØ¶Ø¹ÛŒØª Ø¢Ù†Ù„Ø§ÛŒÙ† */
        .online-status {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #27ae60;
            font-size: 14px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            background: #27ae60;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Ø¯Ú©Ù…Ù‡ Ú¯Ù†Ø¬ÙˆØ± */
        .ganjoor-btn {
            background: linear-gradient(45deg, #e67e22, #d35400);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            font-weight: bold;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
        }

        .ganjoor-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(230, 126, 34, 0.4);
        }
    </style>
</head>
<body>
    <div class="student-container">
        <!-- Ù‡Ø¯Ø± -->
        <div class="student-header">
            <div class="student-info">
                <h1>ğŸ“ Ù¾Ù†Ù„ Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ² - Ù‚Ù‚Ù†ÙˆØ³ Ø§Ø¯Ø¨</h1>
                <p id="studentWelcome">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</p>
                <div class="online-status">
                    <div class="status-dot"></div>
                    <span>Ø¢Ù†Ù„Ø§ÛŒÙ†</span>
                </div>
            </div>
            <div class="header-actions">
                <a href="https://ganjoor.net" target="_blank" class="ganjoor-btn">ğŸ“š ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ú¯Ù†Ø¬ÙˆØ±</a>
                <button class="btn logout-btn" onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
            </div>
        </div>

        <!-- ØªØ¨â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ -->
        <div class="tabs-container">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('dashboard')">ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</div>
                <div class="tab" onclick="switchTab('exams')">ğŸ“ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§</div>
                <div class="tab" onclick="switchTab('results')">ğŸ“Š Ù†ØªØ§ÛŒØ¬</div>
                <div class="tab" onclick="switchTab('games')">ğŸ® Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ</div>
                <div class="tab" onclick="switchTab('poetry')">ğŸ“œ Ú¯Ù†Ø¬ÛŒÙ†Ù‡ Ø§Ø´Ø¹Ø§Ø±</div>
                <div class="tab" onclick="switchTab('report')">ğŸ“¬ Ú¯Ø²Ø§Ø±Ø´ Ù…Ø´Ú©Ù„</div>
            </div>

            <!-- ØªØ¨ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
            <div class="tab-content active" id="dashboard-tab">
                <h2>ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ØªØ­ØµÛŒÙ„ÛŒ</h2>
                
                <!-- Ø¢Ù…Ø§Ø± Ø³Ø±ÛŒØ¹ -->
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <h3>Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡</h3>
                        <div class="stat-number" id="examsTaken">0</div>
                        <p>ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§</p>
                    </div>
                    <div class="stat-card">
                        <h3>Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù†Ù…Ø±Ø§Øª</h3>
                        <div class="stat-number" id="averageGrade">0%</div>
                        <p>Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯Ø±ØµØ¯Ù‡Ø§</p>
                    </div>
                    <div class="stat-card">
                        <h3>Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„</h3>
                        <div class="stat-number" id="activeExamsCount">0</div>
                        <p>Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³</p>
                    </div>
                    <div class="stat-card">
                        <h3>Ø±ØªØ¨Ù‡ Ø¯Ø± Ú©Ù„Ø§Ø³</h3>
                        <div class="stat-number" id="classRank">-</div>
                        <p>Ù…ÙˆÙ‚Ø¹ÛŒØª Ø´Ù…Ø§ Ø¯Ø± Ú©Ù„Ø§Ø³</p>
                    </div>
                </div>

                <!-- Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ÙÙˆØ±ÛŒ -->
                <h3 style="margin: 40px 0 20px 0; color: #2c3e50;">ğŸ¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ÙÙˆØ±ÛŒ</h3>
                <div class="games-grid">
                    <div class="game-card" onclick="startWordGame()">
                        <div class="game-icon">ğŸ”¤</div>
                        <div class="game-title">Ø¨Ø§Ø²ÛŒ ÙØ¹Ù„ Ùˆ Ú©Ù„Ù…Ù‡</div>
                        <div class="game-desc">Ú©Ù„Ù…Ø§Øª Ùˆ Ø§ÙØ¹Ø§Ù„ Ø±Ø§ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ù…Ø±ØªØ¨ Ú©Ù†ÛŒØ¯</div>
                        <button class="btn primary-btn">Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>
                    </div>
                    <div class="game-card" onclick="showRandomPoem()">
                        <div class="game-icon">ğŸ“œ</div>
                        <div class="game-title">Ø§Ø´Ø¹Ø§Ø± Ù†Ø§Ø¨</div>
                        <div class="game-desc">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø´Ø¹Ø§Ø± ØªØµØ§Ø¯ÙÛŒ Ø§Ø² Ø´Ø§Ø¹Ø±Ø§Ù† Ø¨Ø²Ø±Ú¯</div>
                        <button class="btn success-btn">Ù†Ù…Ø§ÛŒØ´ Ø´Ø¹Ø±</button>
                    </div>
                    <div class="game-card" onclick="startGrammarGame()">
                        <div class="game-icon">âœï¸</div>
                        <div class="game-title">Ø¨Ø§Ø²ÛŒ Ø¯Ø³ØªÙˆØ± Ø²Ø¨Ø§Ù†</div>
                        <div class="game-desc">ØªÙ…Ø±ÛŒÙ† Ù‚ÙˆØ§Ø¹Ø¯ Ø¯Ø³ØªÙˆØ± Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ</div>
                        <button class="btn warning-btn">Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>
                    </div>
                </div>
            </div>

            <!-- ØªØ¨ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ -->
            <div class="tab-content" id="exams-tab">
                <h2>ğŸ“ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³</h2>
                <div id="activeExamsContainer">
                    <!-- Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                </div>
            </div>

            <!-- ØªØ¨ Ù†ØªØ§ÛŒØ¬ -->
            <div class="tab-content" id="results-tab">
                <h2>ğŸ“Š Ù†ØªØ§ÛŒØ¬ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ú¯Ø°Ø´ØªÙ‡</h2>
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Ù†Ø§Ù… Ø¢Ø²Ù…ÙˆÙ†</th>
                            <th>ØªØ§Ø±ÛŒØ®</th>
                            <th>Ù†Ù…Ø±Ù‡</th>
                            <th>Ø¯Ø±ØµØ¯</th>
                            <th>ÙˆØ¶Ø¹ÛŒØª</th>
                            <th>Ø¬Ø²Ø¦ÛŒØ§Øª</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody">
                        <!-- Ù†ØªØ§ÛŒØ¬ Ø§ÛŒÙ†Ø¬Ø§ Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                    </tbody>
                </table>
            </div>

            <!-- ØªØ¨ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ -->
            <div class="tab-content" id="games-tab">
                <h2>ğŸ® Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ ÙØ§Ø±Ø³ÛŒ</h2>
                
                <!-- Ø¨Ø§Ø²ÛŒ ÙØ¹Ù„ Ùˆ Ú©Ù„Ù…Ù‡ -->
                <div class="mini-game" id="wordGame">
                    <div class="game-header">
                        <h2>ğŸ”¤ Ø¨Ø§Ø²ÛŒ ØªØ·Ø¨ÛŒÙ‚ ÙØ¹Ù„ Ùˆ Ú©Ù„Ù…Ù‡</h2>
                        <p>Ú©Ù„Ù…Ø§Øª Ùˆ Ø§ÙØ¹Ø§Ù„ Ù…Ø±Ø¨ÙˆØ·Ù‡ Ø±Ø§ Ø¨Ù‡ Ù‡Ù… ÙˆØµÙ„ Ú©Ù†ÛŒØ¯</p>
                    </div>
                    <div class="game-content">
                        <div id="wordPairsContainer">
                            <!-- Ú©Ù„Ù…Ø§Øª Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                        </div>
                        <div class="drop-zone" id="dropZone1">
                            <p>Ø§ÙØ¹Ø§Ù„ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯</p>
                        </div>
                        <div class="drop-zone" id="dropZone2">
                            <p>Ú©Ù„Ù…Ø§Øª Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯</p>
                        </div>
                        <button class="btn primary-btn" onclick="checkWordGame()" style="margin-top: 20px;">âœ… Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§Ø³Ø®</button>
                        <div id="gameResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <!-- Ø¨Ø§Ø²ÛŒ Ø¯Ø³ØªÙˆØ± Ø²Ø¨Ø§Ù† -->
                <div class="mini-game" id="grammarGame">
                    <div class="game-header">
                        <h2>âœï¸ Ø¨Ø§Ø²ÛŒ Ø¯Ø³ØªÙˆØ± Ø²Ø¨Ø§Ù†</h2>
                        <p>Ø¬Ù…Ù„Ø§Øª Ø±Ø§ Ø§Ø² Ù†Ø¸Ø± Ø¯Ø³ØªÙˆØ±ÛŒ ØªØµØ­ÛŒØ­ Ú©Ù†ÛŒØ¯</p>
                    </div>
                    <div class="game-content">
                        <div id="grammarQuestions">
                            <!-- Ø³ÙˆØ§Ù„Ø§Øª Ø¯Ø³ØªÙˆØ± Ø²Ø¨Ø§Ù† -->
                        </div>
                        <button class="btn success-btn" onclick="checkGrammarGame()" style="margin-top: 20px;">ğŸ“ Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§</button>
                    </div>
                </div>
            </div>

            <!-- ØªØ¨ Ø§Ø´Ø¹Ø§Ø± -->
            <div class="tab-content" id="poetry-tab">
                <h2>ğŸ“œ Ú¯Ù†Ø¬ÛŒÙ†Ù‡ Ø§Ø´Ø¹Ø§Ø± ÙØ§Ø±Ø³ÛŒ</h2>
                <div class="poem-container" id="randomPoem">
                    <div class="poem-text" id="poemText">
                        Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø´Ø¹Ø±ØŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ø±Ø§ Ø¨ÙØ´Ø§Ø±ÛŒØ¯
                    </div>
                    <div class="poet-name" id="poetName"></div>
                </div>
                <button class="btn primary-btn bounce" onclick="showRandomPoem()" style="margin: 20px auto; display: block;">
                    ğŸ² Ù†Ù…Ø§ÛŒØ´ Ø´Ø¹Ø± ØªØµØ§Ø¯ÙÛŒ
                </button>
                
                <div style="text-align: center; margin-top: 30px;">
                    <a href="https://ganjoor.net" target="_blank" class="ganjoor-btn">
                        ğŸ“š Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø§Ù…Ù„ Ø§Ø´Ø¹Ø§Ø± Ø¯Ø± Ú¯Ù†Ø¬ÙˆØ±
                    </a>
                </div>
            </div>

            <!-- ØªØ¨ Ú¯Ø²Ø§Ø±Ø´ Ù…Ø´Ú©Ù„ -->
            <div class="tab-content" id="report-tab">
                <h2>ğŸ“¬ Ú¯Ø²Ø§Ø±Ø´ Ù…Ø´Ú©Ù„ ÛŒØ§ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯</h2>
                <div class="mini-game">
                    <div class="game-content">
                        <div class="form-group">
                            <label for="reportType">Ù†ÙˆØ¹ Ú¯Ø²Ø§Ø±Ø´:</label>
                            <select id="reportType" class="form-control">
                                <option value="bug">Ú¯Ø²Ø§Ø±Ø´ Ù…Ø´Ú©Ù„ ÙÙ†ÛŒ</option>
                                <option value="suggestion">Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø¨Ù‡Ø¨ÙˆØ¯</option>
                                <option value="content">Ù…Ø´Ú©Ù„ Ø¯Ø± Ù…Ø­ØªÙˆØ§</option>
                                <option value="other">Ø³Ø§ÛŒØ±</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="reportTitle">Ø¹Ù†ÙˆØ§Ù†:</label>
                            <input type="text" id="reportTitle" class="form-control" placeholder="Ø¹Ù†ÙˆØ§Ù† Ù…Ø´Ú©Ù„ ÛŒØ§ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯">
                        </div>
                        <div class="form-group">
                            <label for="reportDescription">Ø´Ø±Ø­ Ú©Ø§Ù…Ù„:</label>
                            <textarea id="reportDescription" class="form-control" rows="5" placeholder="Ø´Ø±Ø­ Ú©Ø§Ù…Ù„ Ù…Ø´Ú©Ù„ ÛŒØ§ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."></textarea>
                        </div>
                        <button class="btn primary-btn" onclick="submitReport()" style="width: 100%;">
                            ğŸ“¨ Ø§Ø±Ø³Ø§Ù„ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡
                        </button>
                        <div id="reportResult" style="margin-top: 20px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÙÙˆØªØ± -->
        <div class="footer">
            <p>Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ù‚Ù‚Ù†ÙˆØ³ Ø§Ø¯Ø¨ | Ù†Ø³Ø®Ù‡ Û±.Û°</p>
            <p class="developer-credit">ğŸ› ï¸ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø³ÛŒÙ†Ø§ Ø¬Ø¹ÙØ±ÛŒ</p>
        </div>
    </div>

    <script>
        // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ
        const wordPairs = [
            { word: "Ø¯Ø±Ø®Øª", verb: "Ù…ÛŒâ€ŒØ±ÙˆÛŒØ¯" },
            { word: "Ø¨Ø§Ø±Ø§Ù†", verb: "Ù…ÛŒâ€ŒØ¨Ø§Ø±Ø¯" },
            { word: "Ø®ÙˆØ±Ø´ÛŒØ¯", verb: "Ù…ÛŒâ€ŒØ¯Ø±Ø®Ø´Ø¯" },
            { word: "Ú©ØªØ§Ø¨", verb: "Ø®ÙˆØ§Ù†Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯" },
            { word: "Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²", verb: "Ù…ÛŒâ€ŒØ®ÙˆØ§Ù†Ø¯" }
        ];

        const grammarQuestions = [
            {
                question: "Ø¬Ù…Ù„Ù‡ 'Ø§Ùˆ Ø¨Ù‡ Ù…Ø¯Ø±Ø³Ù‡ Ø±ÙØª' Ø±Ø§ Ø§Ø² Ù†Ø¸Ø± Ø²Ù…Ø§Ù† ÙØ¹Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯:",
                options: ["ØµØ­ÛŒØ­ Ø§Ø³Øª", "ØºÙ„Ø· Ø§Ø³Øª - Ø¨Ø§ÛŒØ¯ 'Ù…ÛŒâ€ŒØ±ÙˆØ¯' Ø¨Ø§Ø´Ø¯", "ØºÙ„Ø· Ø§Ø³Øª - Ø¨Ø§ÛŒØ¯ 'Ø±ÙØªÙ‡ Ø§Ø³Øª' Ø¨Ø§Ø´Ø¯"],
                correct: 0
            },
            {
                question: "Ú©Ø¯Ø§Ù… ÛŒÚ© Ø§Ø² Ø§ÙØ¹Ø§Ù„ Ø²ÛŒØ± Ù…Ø§Ø¶ÛŒ Ø§Ø³ØªØŸ",
                options: ["Ù…ÛŒâ€ŒØ±ÙˆØ¯", "Ø±ÙØªÙ‡ Ø§Ø³Øª", "Ø®ÙˆØ§Ù‡Ø¯ Ø±ÙØª"],
                correct: 1
            }
        ];

        const poems = [
            {
                text: "Ø¨Ù†Ù‰ Ø¢Ø¯Ù… Ø§Ø¹Ø¶Ø§ÛŒ ÛŒÚ© Ù¾ÛŒÚ©Ø±Ù†Ø¯\nÚ©Ù‡ Ø¯Ø± Ø¢ÙØ±ÙŠÙ†Ø´ Ø² ÛŒÚ© Ú¯ÙˆÙ‡Ø±Ù†Ø¯\nÚ†Ùˆ Ø¹Ø¶ÙˆÙ‰ Ø¨Ù‡ Ø¯Ø±Ø¯ Ø¢ÙˆØ±Ø¯ Ø±ÙˆØ²Ú¯Ø§Ø±\nØ¯Ú¯Ø± Ø¹Ø¶ÙˆÙ‡Ø§ Ø±Ø§ Ù†Ù…Ø§Ù†Ø¯ Ù‚Ø±Ø§Ø±",
                poet: "Ø³Ø¹Ø¯ÛŒ"
            },
            {
                text: "Ø¢Ø¯Ù…Ù‰ Ø¯Ø± Ø¹Ø§Ù„Ù… Ø®Ø§Ú©Ù‰ Ù†Ù…ÛŒâ€ŒØ¢ÛŒØ¯ Ø¨Ù‡ Ø¯Ø³Øª\nØ¹Ø§Ù„Ù…Ù‰ Ø¯ÛŒÚ¯Ø± Ø¨Ø¨Ø§ÛŒØ¯ Ø³Ø§Ø®Øª Ùˆ Ø§Ø² Ù†Ùˆ Ø¢Ø¯Ù…Ù‰",
                poet: "Ø¹Ø·Ø§Ø± Ù†ÛŒØ´Ø§Ø¨ÙˆØ±ÛŒ"
            },
            {
                text: "Ø¯Ø±ÛŒØº Ø§Ø³Øª Ø§ÛŒØ±Ø§Ù† Ú©Ù‡ ÙˆÛŒØ±Ø§Ù† Ø´ÙˆØ¯\nÚ©Ù†Ø§Ù… Ù¾Ù„Ù†Ú¯Ø§Ù† Ùˆ Ø´ÛŒØ±Ø§Ù† Ø´ÙˆØ¯",
                poet: "ÙØ±Ø¯ÙˆØ³ÛŒ"
            },
            {
                text: "Ù‡Ø± Ú©Ù‡ Ù†Ø§Ù…ÙˆØ®Øª Ø§Ø² Ú¯Ø°Ø´Øª Ø±ÙˆØ²Ú¯Ø§Ø±\nÙ‡ÛŒÚ† Ù†Ø§Ù…ÙˆØ²Ø¯ Ø² Ù‡ÛŒÚ† Ø¢Ù…ÙˆØ²Ú¯Ø§Ø±",
                poet: "ÙØ±Ø¯ÙˆØ³ÛŒ"
            }
        ];

        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ global
        let currentStudent = null;
        let draggedItem = null;

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', function() {
            loadStudentData();
            loadStatistics();
            loadActiveExams();
            loadExamResults();
            initializeWordGame();
            initializeGrammarGame();
        });

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²
        function loadStudentData() {
            const savedStudent = localStorage.getItem('currentStudent');
            if (!savedStudent) {
                window.location.href = 'student-login.html';
                return;
            }

            currentStudent = JSON.parse(savedStudent);
            document.getElementById('studentWelcome').textContent = 
                `Ø³Ù„Ø§Ù… ${currentStudent.fullName}!`;
        }

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ù…Ø§Ø±
        function loadStatistics() {
            const results = JSON.parse(localStorage.getItem('examResults')) || [];
            const studentResults = results.filter(result => 
                result.studentId === currentStudent.nationalCode
            );

            const exams = JSON.parse(localStorage.getItem('exams')) || [];
            const activeExams = exams.filter(exam => 
                new Date(exam.endTime) > new Date() && exam.isActive
            );

            document.getElementById('examsTaken').textContent = studentResults.length;
            document.getElementById('activeExamsCount').textContent = activeExams.length;

            if (studentResults.length > 0) {
                const average = studentResults.reduce((sum, result) => sum + result.percentage, 0) / studentResults.length;
                document.getElementById('averageGrade').textContent = average.toFixed(1) + '%';
                
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø±ØªØ¨Ù‡ Ø³Ø§Ø¯Ù‡
                const allStudents = JSON.parse(localStorage.getItem('students')) || [];
                document.getElementById('classRank').textContent = `#${Math.min(studentResults.length + 1, allStudents.length)}`;
            }
        }

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„
        function loadActiveExams() {
            const exams = JSON.parse(localStorage.getItem('exams')) || [];
            const activeExams = exams.filter(exam => 
                new Date(exam.endTime) > new Date() && exam.isActive
            );
            
            const container = document.getElementById('activeExamsContainer');
            container.innerHTML = '';

            if (activeExams.length === 0) {
                container.innerHTML = `
                    <div class="mini-game">
                        <div class="game-content" style="text-align: center;">
                            <h3>ğŸ“­ Ù‡ÛŒÚ† Ø¢Ø²Ù…ÙˆÙ† ÙØ¹Ø§Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</h3>
                            <p>Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ù‡ÛŒÚ† Ø¢Ø²Ù…ÙˆÙ†ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ú©Ø±Ø¯Ù† Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª.</p>
                        </div>
                    </div>
                `;
                return;
            }

            activeExams.forEach(exam => {
                const examCard = document.createElement('div');
                examCard.className = 'mini-game';
                
                const now = new Date();
                const endTime = new Date(exam.endTime);
                const timeLeft = endTime - now;
                const hoursLeft = Math.floor(timeLeft / (1000 * 60 * 60));
                const minutesLeft = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));

                examCard.innerHTML = `
                    <div class="game-header">
                        <h3>${exam.title}</h3>
                        <p>${exam.subject} - Ù…Ø¯Øª Ø²Ù…Ø§Ù†: ${exam.duration} Ø¯Ù‚ÛŒÙ‚Ù‡</p>
                    </div>
                    <div class="game-content">
                        <p><strong>ØªØ¹Ø¯Ø§Ø¯ Ø³ÙˆØ§Ù„Ø§Øª:</strong> ${exam.questions.length}</p>
                        <p><strong>Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡:</strong> ${hoursLeft} Ø³Ø§Ø¹Øª Ùˆ ${minutesLeft} Ø¯Ù‚ÛŒÙ‚Ù‡</p>
                        <p><strong>Ù…Ù‡Ù„Øª:</strong> ${new Date(exam.endTime).toLocaleDateString('fa-IR')}</p>
                        <button class="btn primary-btn" onclick="startExam('${exam.id}')" style="margin-top: 15px;">
                            ğŸš€ Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†
                        </button>
                    </div>
                `;
                
                container.appendChild(examCard);
            });
        }

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†ØªØ§ÛŒØ¬ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§
        function loadExamResults() {
            const results = JSON.parse(localStorage.getItem('examResults')) || [];
            const studentResults = results.filter(result => 
                result.studentId === currentStudent.nationalCode
            );

            const tbody = document.getElementById('resultsTableBody');
            tbody.innerHTML = '';

            if (studentResults.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; color: #7f8c8d; padding: 40px;">
                            ğŸ“­ Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ø¢Ø²Ù…ÙˆÙ†ÛŒ Ø´Ø±Ú©Øª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯
                        </td>
                    </tr>
                `;
                return;
            }

            studentResults.forEach(result => {
                const gradeClass = getGradeClass(result.percentage);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${result.examTitle}</td>
                    <td>${new Date(result.submitDate).toLocaleDateString('fa-IR')}</td>
                    <td>${result.score}/${result.totalScore}</td>
                    <td class="${gradeClass}">${result.percentage}%</td>
                    <td>${getStatusText(result.percentage)}</td>
                    <td>
                        <button class="btn primary-btn" style="padding: 8px 15px; font-size: 12px;" 
                                onclick="viewExamDetails('${result.examId}')">
                            Ù…Ø´Ø§Ù‡Ø¯Ù‡
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // ØªØ¹ÛŒÛŒÙ† Ú©Ù„Ø§Ø³ Ù†Ù…Ø±Ù‡
        function getGradeClass(percentage) {
            if (percentage >= 90) return 'grade-excellent';
            if (percentage >= 75) return 'grade-good';
            if (percentage >= 50) return 'grade-average';
            return 'grade-poor';
        }

        // ØªØ¹ÛŒÛŒÙ† ÙˆØ¶Ø¹ÛŒØª
        function getStatusText(percentage) {
            if (percentage >= 90) return 'Ø¹Ø§Ù„ÛŒ';
            if (percentage >= 75) return 'Ø®ÙˆØ¨';
            if (percentage >= 50) return 'Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„';
            return 'Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙ„Ø§Ø´ Ø¨ÛŒØ´ØªØ±';
        }

        // Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†
        function startExam(examId) {
            if (confirm('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¢Ø²Ù…ÙˆÙ† Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ØŸ Ù¾Ø³ Ø§Ø² Ø´Ø±ÙˆØ¹ØŒ Ø²Ù…Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ Ø¢ØºØ§Ø² Ù…ÛŒâ€ŒØ´ÙˆØ¯.')) {
                window.location.href = `exam-page.html?examId=${examId}`;
            }
        }

        // Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¢Ø²Ù…ÙˆÙ†
        function viewExamDetails(examId) {
            alert(`Ø¬Ø²Ø¦ÛŒØ§Øª Ø¢Ø²Ù…ÙˆÙ† Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡ ${examId} Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯`);
        }

        // ØªØ¹ÙˆÛŒØ¶ ØªØ¨â€ŒÙ‡Ø§
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }

        // Ø¨Ø§Ø²ÛŒ ÙØ¹Ù„ Ùˆ Ú©Ù„Ù…Ù‡
        function initializeWordGame() {
            const container = document.getElementById('wordPairsContainer');
            container.innerHTML = '';
            
            // Ù…Ø®Ù„ÙˆØ· Ú©Ø±Ø¯Ù† Ú©Ù„Ù…Ø§Øª
            const shuffledWords = [...wordPairs].sort(() => Math.random() - 0.5);
            
            shuffledWords.forEach((pair, index) => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-pair';
                wordElement.textContent = pair.word;
                wordElement.draggable = true;
                wordElement.dataset.type = 'word';
                wordElement.dataset.index = index;
                
                wordElement.addEventListener('dragstart', handleDragStart);
                wordElement.addEventListener('dragend', handleDragEnd);
                
                container.appendChild(wordElement);
            });
            
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÙØ¹Ø§Ù„
            const shuffledVerbs = [...wordPairs].sort(() => Math.random() - 0.5);
            
            shuffledVerbs.forEach((pair, index) => {
                const verbElement = document.createElement('div');
                verbElement.className = 'word-pair';
                verbElement.textContent = pair.verb;
                verbElement.draggable = true;
                verbElement.dataset.type = 'verb';
                verbElement.dataset.index = index;
                
                verbElement.addEventListener('dragstart', handleDragStart);
                verbElement.addEventListener('dragend', handleDragEnd);
                
                container.appendChild(verbElement);
            });
            
            // ØªÙ†Ø¸ÛŒÙ… drop zones
            const dropZones = document.querySelectorAll('.drop-zone');
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
            });
        }

        function handleDragStart(e) {
            draggedItem = this;
            this.classList.add('dragging');
            e.dataTransfer.setData('text/plain', this.dataset.index + ',' + this.dataset.type);
        }

        function handleDragEnd() {
            this.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
            this.classList.add('active');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('active');
            
            const data = e.dataTransfer.getData('text/plain').split(',');
            const index = parseInt(data[0]);
            const type = data[1];
            
            if (this.children.length === 0) {
                const item = document.querySelector(`[data-index="${index}"][data-type="${type}"]`);
                if (item) {
                    this.appendChild(item.cloneNode(true));
                    item.style.display = 'none';
                }
            }
        }

        function checkWordGame() {
            const dropZone1 = document.getElementById('dropZone1');
            const dropZone2 = document.getElementById('dropZone2');
            
            let correctPairs = 0;
            const totalPairs = wordPairs.length;
            
            // Ø¨Ø±Ø±Ø³ÛŒ ØªØ·Ø§Ø¨Ù‚â€ŒÙ‡Ø§
            // Ø§ÛŒÙ†Ø¬Ø§ Ù…Ù†Ø·Ù‚ Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
            
            const resultDiv = document.getElementById('gameResult');
            resultDiv.innerHTML = `
                <div class="success-message">
                    ğŸ‰ Ø®ÙˆØ¨ Ø¨ÙˆØ¯! ${correctPairs} Ø§Ø² ${totalPairs} ØªØ·Ø§Ø¨Ù‚ ØµØ­ÛŒØ­ Ø¨ÙˆØ¯.
                </div>
            `;
        }

        // Ø¨Ø§Ø²ÛŒ Ø¯Ø³ØªÙˆØ± Ø²Ø¨Ø§Ù†
        function initializeGrammarGame() {
            const container = document.getElementById('grammarQuestions');
            container.innerHTML = '';
            
            grammarQuestions.forEach((question, qIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'mini-game';
                questionDiv.style.marginBottom = '20px';
                
                let optionsHTML = '';
                question.options.forEach((option, oIndex) => {
                    optionsHTML += `
                        <div style="margin: 10px 0;">
                            <input type="radio" id="q${qIndex}o${oIndex}" name="q${qIndex}" value="${oIndex}">
                            <label for="q${qIndex}o${oIndex}">${option}</label>
                        </div>
                    `;
                });
                
                questionDiv.innerHTML = `
                    <h4>${question.question}</h4>
                    ${optionsHTML}
                `;
                
                container.appendChild(questionDiv);
            });
        }

        function checkGrammarGame() {
            let correctAnswers = 0;
            
            grammarQuestions.forEach((question, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                if (selected && parseInt(selected.value) === question.correct) {
                    correctAnswers++;
                }
            });
            
            alert(`ğŸ¯ Ø´Ù…Ø§ ${correctAnswers} Ø§Ø² ${grammarQuestions.length} Ø³ÙˆØ§Ù„ Ø±Ø§ ØµØ­ÛŒØ­ Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯ÛŒØ¯!`);
        }

        // Ù†Ù…Ø§ÛŒØ´ Ø´Ø¹Ø± ØªØµØ§Ø¯ÙÛŒ
        function showRandomPoem() {
            const randomIndex = Math.floor(Math.random() * poems.length);
            const poem = poems[randomIndex];
            
            document.getElementById('poemText').textContent = poem.text;
            document.getElementById('poetName').textContent = `â€” ${poem.poet}`;
            
            // Ù¾ÙˆÛŒØ§ Ø´Ø¯Ù† Ø¨Ù‡ ØªØ¨ Ø§Ø´Ø¹Ø§Ø±
            switchTab('poetry');
        }

        // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§
        function startWordGame() {
            switchTab('games');
            initializeWordGame();
        }

        function startGrammarGame() {
            switchTab('games');
            initializeGrammarGame();
        }

        // Ø§Ø±Ø³Ø§Ù„ Ú¯Ø²Ø§Ø±Ø´
        function submitReport() {
            const type = document.getElementById('reportType').value;
            const title = document.getElementById('reportTitle').value;
            const description = document.getElementById('reportDescription').value;
            
            if (!title || !description) {
                alert('âŒ Ù„Ø·ÙØ§ Ø¹Ù†ÙˆØ§Ù† Ùˆ Ø´Ø±Ø­ Ú¯Ø²Ø§Ø±Ø´ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            // Ø°Ø®ÛŒØ±Ù‡ Ú¯Ø²Ø§Ø±Ø´ Ø¯Ø± localStorage
            const reports = JSON.parse(localStorage.getItem('studentReports')) || [];
            const newReport = {
                id: 'report_' + Date.now(),
                studentName: currentStudent.fullName,
                studentId: currentStudent.nationalCode,
                type: type,
                title: title,
                description: description,
                date: new Date().toLocaleString('fa-IR'),
                status: 'new'
            };
            
            reports.push(newReport);
            localStorage.setItem('studentReports', JSON.stringify(reports));
            
            document.getElementById('reportResult').innerHTML = `
                <div class="success-message">
                    âœ… Ú¯Ø²Ø§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯. 
                    <br>ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø¢Ù† Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ú©Ø±Ø¯.
                </div>
            `;
            
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙØ±Ù…
            document.getElementById('reportTitle').value = '';
            document.getElementById('reportDescription').value = '';
        }

        // Ø®Ø±ÙˆØ¬ Ø§Ø² Ø³ÛŒØ³ØªÙ…
        function logout() {
            if (confirm('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ø² Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø®Ø§Ø±Ø¬ Ø´ÙˆÛŒØ¯ØŸ')) {
                localStorage.removeItem('currentStudent');
                window.location.href = 'index.html';
            }
        }
    </script>
</body>
</html>